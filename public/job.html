<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Create a job post</title>

    <!-- Icon image -->
    <link rel="shortcut icon" type="img/jpeg" href="assets/image/gaunlet.jpg">
    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Fjalla+One|Hind" rel="stylesheet">
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- Style Sheet -->
    <link rel="stylesheet" href="assets/styles/job.css" type="text/css">

</head>
<body>
    <div class="jumbotron">
    <div class="container">
        <div class="row">
            <div class="col-md-2"></div>
            <div class="box col-md-8">
                <h1>Create a job posting</h1>
                <hr>
                <form class="col-md-12">
                    <div class="form-row">
                        <div class="col-md-12">
                            <label>Where do you need care?</label>
                            <input type="text" class="form-control" id="location" placeholder="Philadelphia, PA" required>
                        </div>
                    </div>
                    <!-- ================================== -->
                    <div class="form-row">
                        <div class="col-md-12">
                            <label>How long do you need care for?</label><br>
                            <select id="duration">
                                <option value="">Select One</option>
                                <option value="full-time">Full Time</option>
                                <option id="head-color" value="part-time">Part Time</option>
                                <option value="one-time">One Time</option>
                            </select>
                            <br>
                    <!-- ================================== -->
                    <!-- Time of service -->
                            <label>When do you need care?</label><br>
                            <input type="text" class="form-control" id="date-time" placeholder="3 Days from this post" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-12">
                            <label>What would you like to pay per hour?</label>
                            <input type="text" class="form-control" id="pay-rate" placeholder="$20 an hour" required>
                        </div>
                    </div>
                    <!-- ================================== -->
                    <!-- Number of kids that needs care -->
                    <div class="form-row">
                        <div class="col-md-12">
                            <label>How many kids need care?</label><br>
                            <select id="total-kids">
                                <option value="">Select One</option>
                                <option value="one">1</option>
                                <option value="two">2</option>
                                <option value="more-than">over 2</option>
                            </select>
                            <br>
                            <br>
                    <!-- ================================== -->
                    <!-- List of extra serves -->
                    <div class="form-row">
                        <div class="col-md-12">
                            <div id="needs">
                            <label>For additional needs: <br>See our list of examples and choose one or create your own:</label><br>
                            <input type="hidden" class="needs" value="house_keeping"> Light Housekeeping<br>
                            <input type="hidden" class="needs" value="meal_prep"> Meal Preparation<br>
                            <input type="hidden" class="needs" value="laundry"> Laundry<br>
                            <input type="hidden" class="needs" value="Homework"> Homework help<br>
                            <input type="hidden" class="needs" value="yard_work"> Yard Work<br>
                            <input type="hidden" class="needs" value="pick_up_off"> Pick Up/Drop Offs<br>
                            </div>
                        </div>
                        <!-- They will add a description of extra serves -->
                        <textarea name="description" id="description" cols="30" rows="10" placeholder="Taking the dog out twice a day">
                    
                        </textarea>
                    </div>
                    <!-- ================================== -->
                    <br>
                    <button class="btn btn-primary" id="submit" type="submit">Submit posting</button>
                </form>
        
            </div>
            <div class="col-md-2"></div>

        </div>
    </div>
</div>

    <script src="https://code.jquery.com/jquery.js"></script>
    <script type="text/javascript">
        $("#submit").on("click", function(event) {
          event.preventDefault();
        //   alert('test');
    
          var newJob = {
            location: $("#location").val().trim(),
            duration: $("#duration").val().trim(),
            dateTime: $("#date-time").val().trim(),
            payRate: $("#pay-rate").val().trim(),
            totalKids: $("#total-kids").val().trim(),
            // needs: $("#needs").val().trim(),
            description: $("#description").val().trim()
          };
    
          $.post("/api/listings", newJob)
            .then(function(data) {
              console.log(data);
              alert("Adding new listing...");
            });
    
          // $.get("/api/nannies", newNanny)  
          //   .then(function(data)  {
          //     console.log(data);
          //     alert("Finding nanny...");
          //   });
        });
      </script>
</body>
</html>

